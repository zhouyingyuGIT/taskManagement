<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>连线测试TMT</title>
    <link rel="stylesheet" href="index.css">
</head>
<body>

<div class="box" id="box">
    <div id="reward1" class="hide reward1">
        <div class="div_flex" style="height: 70%;">
            这个测验是计时的，你完成的时间越长，成绩就会越差，因此要抓紧时间！
        </div>
    </div>
    <div id="reward" class="hide reward1">
        <div class="div_flex reward">
            <span class="prompt" id="prompt1"></span>
            <span>&nbsp;</span>
            <span class="prompt" id="prompt2" style=""></span>
        </div>
    </div>
    <div id="item1" class="item">
        <div class="item div_flex zdy">
            你面前的屏幕有一些圆圈，圆圈里有数字。请用鼠标按照 1、2、3 一直到8的顺序点击它们。从开始键1开始，1连2，2连3直到连接到8为止。不能跳隔数字，要一个接一个的点击，要求快速并且准确。现在试着连接一下。
        </div>
    </div>
    <div id="item4" class="item hide">
        <div class="item div_flex zdy">
            在屏幕上会呈现1到25这些数字，它们没有规律散乱地分布，需要按照 1、2、3 一直到 25 的顺序把点击它们，不能跳隔数字，要一个接一个的连接，要求快速并且准确。起始为1，连接到 25 为止，开始。(立即开始计时)        </div>
        </div>
    <div id="item2" class="item div_flex hide">
        <div id="TMTAtest" class="TMTAtest TMTBox">
            <div class="TMT div_flex active TMTActive Atest1 begin">1</div>
            <hr class="hr hr1 hide">
            <div class="TMT div_flex Atest2">2</div>
            <hr class="hr hr2 hide">
            <div class="TMT div_flex Atest3">3</div>
            <hr class="hr hr3 hide">
            <div class="TMT div_flex Atest4">4</div>
            <hr class="hr hr4 hide">
            <div class="TMT div_flex Atest5">5</div>
            <hr class="hr hr5 hide">
            <div class="TMT div_flex Atest6">6</div>
            <hr class="hr hr6 hide">
            <div class="TMT div_flex Atest7">7</div>
            <hr class="hr hr7 hide">
            <div class="TMT div_flex Atest8 end">8</div>
        </div>
    </div>
    <div id="item3" class="item div_flex hide">
        <div id="TMTA" class="TMTA TMTBox">
<!--            <img src="123.png" alt="" style="height: 500px;width: 686px;position: absolute;top: 0px;left: 0px;z-index: 0">-->
            <div style="height: 500px;width: 686px;position: absolute;top: 0px;left: 0px;z-index: 3;">
                <div class="TMTZ div_flex A1 active TMTActive begin">1</div>
                <hr class="hr Ahr1 hide">
                <div class="TMTZ div_flex A2">2</div>
                <hr class="hr Ahr2 hide">
                <div class="TMTZ div_flex A3">3</div>
                <hr class="hr Ahr3 hide">
                <div class="TMTZ div_flex A4">4</div>
                <hr class="hr Ahr4 hide">
                <div class="TMTZ div_flex A5">5</div>
                <hr class="hr Ahr5 hide">
                <div class="TMTZ div_flex A6">6</div>
                <hr class="hr Ahr6 hide">
                <div class="TMTZ div_flex A7">7</div>
                <hr class="hr Ahr7 hide">
                <div class="TMTZ div_flex A8">8</div>
                <hr class="hr Ahr8 hide">
                <div class="TMTZ div_flex A9">9</div>
                <hr class="hr Ahr9 hide">
                <div class="TMTZ div_flex A10">10</div>
                <hr class="hr Ahr10 hide">
                <div class="TMTZ div_flex A11">11</div>
                <hr class="hr Ahr11 hide">
                <div class="TMTZ div_flex A12">12</div>
                <hr class="hr Ahr12 hide">
                <div class="TMTZ div_flex A13">13</div>
                <hr class="hr Ahr13 hide">
                <div class="TMTZ div_flex A14">14</div>
                <hr class="hr Ahr14 hide">
                <div class="TMTZ div_flex A15">15</div>
                <hr class="hr Ahr15 hide">
                <div class="TMTZ div_flex A16">16</div>
                <hr class="hr Ahr16 hide">
                <div class="TMTZ div_flex A17">17</div>
                <hr class="hr Ahr17 hide">
                <div class="TMTZ div_flex A18">18</div>
                <hr class="hr Ahr18 hide">
                <div class="TMTZ div_flex A19">19</div>
                <hr class="hr Ahr19 hide">
                <div class="TMTZ div_flex A20">20</div>
                <hr class="hr Ahr20 hide">
                <div class="TMTZ div_flex A21">21</div>
                <hr class="hr Ahr21 hide">
                <div class="TMTZ div_flex A22">22</div>
                <hr class="hr Ahr22 hide">
                <div class="TMTZ div_flex A23">23</div>
                <hr class="hr Ahr23 hide">
                <div class="TMTZ div_flex A24">24</div>
                <hr class="hr Ahr24 hide">
                <div class="TMTZ div_flex A25 end">25</div>
<!--                <div class="TMTZ div_flex A16">16</div>-->
<!--                <div class="TMTZ div_flex end">25</div>-->
            </div>
        </div>
        <!--<div id="TMTA" class="TMTA TMTBox">

            <div class="TMTZ div_flex active TMTActive begin A1">1</div>
            <hr class="hr" style="width: 1000px;height: 2px;top: 100px">
            <div class="TMTZ div_flex">2</div>
            <hr class="hr" style="width: 1000px;height: 2px;top: 200px">
            <hr class="hr" style="width: 1000px;height: 2px;top: 250px">
            <hr class="hr" style="width: 1000px;height: 2px;top: 375px">
            <div class="TMTZ div_flex">3</div>
            <hr class="hr" style="width: 1000px;height: 2px;top: 300px">
            <div class="TMTZ div_flex">4</div>
            <hr class="hr" style="width: 1000px;height: 2px;top: 400px">
            <div class="TMTZ div_flex">5</div>
            <hr class="hr" style="width: 2px;height: 500px;left: 100px;">
            <hr class="hr" style="width: 2px;height: 500px;left: 200px;">
            <hr class="hr" style="width: 2px;height: 500px;left: 300px;">
            <hr class="hr" style="width: 2px;height: 500px;left: 400px;">
            <hr class="hr" style="width: 2px;height: 500px;left: 500px;">
            <hr class="hr" style="width: 2px;height: 500px;left: 600px;">
            <hr class="hr" style="width: 2px;height: 500px;left: 700px;">
            <hr class="hr" style="width: 2px;height: 500px;left: 800px;">
            <hr class="hr" style="width: 2px;height: 500px;left: 900px;">
            <div class="TMTZ div_flex A6">6</div>
            <div class="TMTZ div_flex">7</div>
            <div class="TMTZ div_flex A8">8</div>
            <div class="TMTZ div_flex A13">13</div>
            <div class="TMTZ div_flex A16">16</div>
            <div class="TMTZ div_flex end">25</div>
        </div>-->
    </div>
</div>
</body>
<script src="../../js/jquery.3.4.1.js"></script>
<script>
    $(function () {
        var Atest=["1", "2", "3", "4", "5", "6", "7", "8"];
        var A=["1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24", "25"];
        var Btest=["1","A","2","B","3","C","4","D"];
        var B=["1","A","2","B", "3","C", "4","D", "5","E","6","F","7","G","8","H","9","I","10","J","11","K","12","L","13"];
        var spacer=true,spacer1=false,reward=false;
        var data=Atest;
        var time,beginTime,endTime;
        var data_index=1,errorNum=0;
        var time1=3000,timer1=null,maxtime=150,timer=null,time2=10000,timer2=null,time3=3000,timer3=null;
        var commentset=[];
        $(".TMT").on("click",function () {
            var num1=Number($(this).text());
            var num2=Number(data[data_index]);
            if(num1 === num2){
                $(".TMT").removeClass("active");
                $(this).addClass("active TMTActive");
                $(".hr"+(num2-1)).removeClass("hide");
                data_index++;
                if(data_index>=8){
                    data=[];
                    data=A;
                    spacer1=true;
                    errorNum=0;
                    data_index=1;
                    $("#prompt2").removeClass("hide");
                    $("#item2").addClass("hide");
                    $("#item4").removeClass("hide");
                }
            }else {
                if(num1 > num2){
                    var prompt1="您连错了，你现在连到了"+data[data_index-1]+"，下一个应该连什么? 是"+data[data_index]+"吗？"
                    errorNum++;
                    if(errorNum>3){
                        $("#prompt2").addClass("hide")
                    }
                    $("#prompt1").text(prompt1);
                    timer1Fun();
                }
            }
        });
        $(".TMTZ").on("click",function () {
            timer2Fun();
            var num1=Number($(this).text());
            var num2=Number(data[data_index]);
            if(num1 === num2){
                $(".TMTZ").removeClass("active");
                $(this).addClass("active TMTActive");
                $(".Ahr"+(num2-1)).removeClass("hide");
                data_index++;
                if(data_index>=25){
                    spacer1=true;
                    endTime=new Date().getTime();
                    time = (endTime - beginTime).toFixed(0);
                    endFun();
                }
            }else {
                if(num1 > num2){
                    var prompt1="您连错了，你现在连到了"+data[data_index-1]+"，下一个应该连什么? 是"+data[data_index]+"吗？"
                    errorNum++;
                    if(errorNum>3){
                        $("#prompt2").addClass("hide")
                    }
                    $("#prompt1").text(prompt1);
                    timer1Fun();
                }
            }
        });

        function timer1Fun(){
            $("#reward").removeClass("hide");
            timer1 = setInterval(function () {
                $("#reward").addClass("hide");
                if(reward){
                    timer2Fun();
                }
                clearInterval(timer1);
                timer1=null;
            }, time1);
        }
        function timer2Fun(){
            clearInterval(timer2);
            timer2=null;
            timer2 = setInterval(function () {
                timer3Fun();
                clearInterval(timer2);
                timer2=null;
            }, time2);
        }
        function timer3Fun(){
            $("#reward1").removeClass("hide");
            timer3 = setInterval(function () {
                $("#reward1").addClass("hide");
                timer2Fun();
                clearInterval(timer3);
                timer3=null;
            }, time3);
        }
        function CountDown() {
            if (maxtime > 1) {
                --maxtime;
            } else{
                time=150000;
                endFun();
                clearInterval(timer);
                timer=null;
            }
        }
        $(document).keydown(function (event) {
            var e = event || window.event;
            var k = e.keyCode || e.which;
            if(k === 32){
                if(spacer){
                    spacer=false;
                    $("#prompt2").text("你面前的屏幕有一些圆圈，圆圈里有数字。请用鼠标按照 1、2、3 一直到8的顺序点击它们。从开始键1开始，1连2，2连3直到连接到8为止。不能跳隔数字，要一个接一个的点击，要求快速并且准确。现在试着连接一下。")

                    $("#item1").addClass("hide");
                    $("#item2").removeClass("hide");
                }
                if(spacer1){
                    spacer1=false;
                    reward=true;
                    $("#prompt2").text("在屏幕上会呈现1到25这些数字，它们没有规律散乱地分布，需要按照 1、2、3 一直到 25 的顺序把点击它们，不能跳隔数字，要一个接一个的连接，要求快速并且准确。起始为1，连接到 25 为止")
                    $("#item4").addClass("hide");
                    $("#item3").removeClass("hide");
                    beginTime=new Date().getTime();
                    timer1 = setInterval(function () {
                        CountDown();
                    }, 1000);
                }
            }
        });

        function endFun() {
            commentset=[];
            commentset.push(time);
            commentset.push(errorNum);
            commentset.push(data_index);
            console.log(commentset);
        }
    })
</script>
</html>